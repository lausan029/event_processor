# ============================================
# Event Processor - Environment Variables
# ============================================
# Copy this file to .env and update values for your environment
# NEVER commit .env files to version control

# ============================================
# General Configuration
# ============================================
NODE_ENV=development
# Options: development, production, test

# ============================================
# Server Configuration
# ============================================
PORT=3001
SERVER_HOST=0.0.0.0
LOG_LEVEL=info
# Options: trace, debug, info, warn, error, fatal

# ============================================
# PostgreSQL (Prisma)
# ============================================
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/event_processor?schema=public
# Railway provides: ${{ DATABASE_URL }} from PostgreSQL plugin

# ============================================
# MongoDB
# ============================================
MONGO_URI=mongodb://localhost:27017
MONGO_DATABASE=event_processor
# Railway provides: ${{ MONGO_URL }} from MongoDB plugin
# For Atlas: mongodb+srv://user:password@cluster.mongodb.net/event_processor

# ============================================
# Redis
# ============================================
# Option 1: Full URL (preferred for Railway/cloud)
REDIS_URL=redis://localhost:6379
# Railway provides: ${{ REDIS_URL }} from Redis plugin

# Option 2: Host/Port/Password (for local dev)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# Authentication & Security
# ============================================
# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters
JWT_EXPIRES_IN=24h
# IMPORTANT: Generate a strong random key for production:
# openssl rand -base64 48

# API Key Configuration
API_KEY_PREFIX=evp_

# ============================================
# Worker Configuration
# ============================================
# Dynamic consumer ID - Railway sets RAILWAY_REPLICA_ID automatically
CONSUMER_NAME=
# Leave empty to auto-generate from HOSTNAME or RAILWAY_REPLICA_ID

CONSUMER_GROUP=evp-workers-group
WORKER_BATCH_SIZE=100
WORKER_BATCH_TIMEOUT_MS=500

# ============================================
# Frontend Configuration
# ============================================
VITE_API_URL=http://localhost:3001
# In production, set to your Railway backend URL:
# VITE_API_URL=https://your-backend.up.railway.app

# ============================================
# Railway-Specific Variables (auto-provided)
# ============================================
# - RAILWAY_REPLICA_ID: Unique ID for each replica
# - RAILWAY_ENVIRONMENT: Current environment name
# - RAILWAY_SERVICE_NAME: Name of the service
# - PORT: Port to bind (Railway sets this)
